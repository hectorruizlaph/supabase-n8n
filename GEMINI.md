# GEMINI.md

## Project Overview

This is a Next.js starter kit for building applications with Supabase. It includes a complete authentication system, styling with Tailwind CSS and shadcn/ui, and a basic application structure. The project is configured to work with the Next.js App Router, Pages Router, Middleware, Client, and Server components.

**Main Technologies:**

* [Next.js](https://nextjs.org/)
* [Supabase](https://supabase.io/)
* [React](https://react.dev/)
* [TypeScript](https://www.typescriptlang.org/)
* [Tailwind CSS](https://tailwindcss.com/)
* [shadcn/ui](https://ui.shadcn.com/)

**Architecture:**

The project follows a standard Next.js project structure. The `app` directory contains the main application code, including the layout, pages, and components. The `lib` directory contains the Supabase client configuration and other utility functions. The `components` directory contains the reusable UI components.

## Todo Functionality

This project includes a simple todo list application with the following features:

* **Add, edit, and delete todos.**
* **Mark todos as complete.**
* **Data is persisted in a Supabase database.**
* **Real-time updates using Next.js Server Actions.**

### Database Schema

The todo functionality relies on a `todos` table in the Supabase database. Here is the SQL schema for the table:

```sql
create table todos (
  id bigint generated by default as identity primary key,
  user_id uuid references auth.users not null,
  task text check (char_length(task) > 0),
  is_complete boolean default false,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null
);

alter table todos enable row level security;

create policy "Individuals can create todos." on todos for
    insert with check (auth.uid() = user_id);

create policy "Individuals can view their own todos." on todos for
    select using (auth.uid() = user_id);

create policy "Individuals can update their own todos." on todos for
    update using (auth.uid() = user_id);

create policy "Individuals can delete their own todos." on todos for
    delete using (auth.uid() = user_id);
```

### Implementation Details

The todo list is implemented using the following components and files:

* `app/protected/todos/page.tsx`: The main page for the todo list. It fetches the initial list of todos.
* `app/protected/todos/actions.ts`: Contains the Next.js Server Actions for creating, updating, and deleting todos.
* `components/todo-list.tsx`: The main component that renders the list of todos and the form to add new ones.
* `components/todo-item.tsx`: A component that represents a single todo item and handles editing and deleting.
* `components/add-todo-form.tsx`: A form to add a new todo.
* `lib/types.ts`: Defines the `Todo` type.

## Building and Running

**1. Installation:**

```bash
npm install
```

**2. Configuration:**

Rename `.env.example` to `.env.local` and add your Supabase project URL and anon key:

```
NEXT_PUBLIC_SUPABASE_URL=[INSERT SUPABASE PROJECT URL]
NEXT_PUBLIC_SUPABASE_ANON_KEY=[INSERT SUPABASE PROJECT API ANON KEY]
```

**3. Running the development server:**

```bash
npm run dev
```

The application will be available at `http://localhost:3000`.

**4. Building for production:**

```bash
npm run build
```

**5. Running in production:**

```bash
npm run start
```

**6. Linting:**

```bash
npm run lint
```

## Development Conventions

* **Coding Style:** The project uses the default Next.js ESLint configuration.
* **Testing:** There are no testing frameworks configured in this project.
* **Contribution:** There are no contribution guidelines in this project.

## Supabase CLI

Supabase CLI 2.39.2

Usage:
  supabase [command]

Quick Start:
  bootstrap            Bootstrap a Supabase project from a starter template

Local Development:
  db                   Manage Postgres databases
  gen                  Run code generation tools
  init                 Initialize a local project
  inspect              Tools to inspect your Supabase project
  link                 Link to a Supabase project
  login                Authenticate using an access token
  logout               Log out and delete access tokens locally
  migration            Manage database migration scripts
  seed                 Seed a Supabase project from supabase\config.toml
  services             Show versions of all Supabase services
  start                Start containers for Supabase local development
  status               Show status of local Supabase containers
  stop                 Stop all local Supabase containers
  test                 Run tests on local Supabase containers
  unlink               Unlink a Supabase project

Management APIs:
  backups              Manage Supabase physical backups
  branches             Manage Supabase preview branches
  config               Manage Supabase project configurations
  domains              Manage custom domain names for Supabase projects
  encryption           Manage encryption keys of Supabase projects
  functions            Manage Supabase Edge functions
  network-bans         Manage network bans
  network-restrictions Manage network restrictions
  orgs                 Manage Supabase organizations
  postgres-config      Manage Postgres database config
  projects             Manage Supabase projects
  secrets              Manage Supabase secrets
  snippets             Manage Supabase SQL snippets
  ssl-enforcement      Manage SSL enforcement configuration
  sso                  Manage Single Sign-On (SSO) authentication for projects
  storage              Manage Supabase Storage objects
  vanity-subdomains    Manage vanity subdomains for Supabase projects

Additional Commands:
  completion           Generate the autocompletion script for the specified shell
  help                 Help about any command

Flags:
      --create-ticket                                  create a support ticket for any CLI error
      --debug                                          output debug logs to stderr
      --dns-resolver [ native | https ]                lookup domain names using the specified resolver (default native)
      --experimental                                   enable experimental features
  -h, --help                                           help for supabase
      --network-id string                              use the specified docker network instead of a generated one
  -o, --output [ env | pretty | json | toml | yaml ]   output format of status variables (default pretty)
      --profile string                                 use a specific profile for connecting to Supabase API (default "supabase")
  -v, --version                                        version for supabase
      --workdir string                                 path to a Supabase project directory
      --yes                                            answer yes to all prompts

Use "supabase [command] --help" for more information about a command.
